# dth11-cardputer

M5Stack CardputerでDHT11センサー（温湿度センサー）を使用するためのソフトウェアです。
周囲の温度と湿度を測定し、Cardputerのディスプレイに表示します。



## 主な機能

- **温湿度表示**: DHT11センサーから取得した温度と湿度をリアルタイムで表示します。
- **バッテリー残量表示**: 現在のバッテリー残量をパーセンテージで表示します。
- **各種設定機能**:
  - 画面の明るさ調整
  - 低バッテリー警告のしきい値設定
  - 表示言語の切り替え（英語 / 日本語）
- **設定の永続化**: 変更した設定は本体の不揮発性メモリに保存され、次回起動時にも引き継がれます。
- **自動シャットダウン**: バッテリー残量が設定したしきい値を下回ると、自動的に電源をオフにしてバッテリーを保護します。

## 必要なもの

### ハードウェア
- M5Stack Cardputer
- DHT11センサーモジュール（GROVE互換）

### ソフトウェア
- [Visual Studio Code](https://code.visualstudio.com/)
- [PlatformIO IDE 拡張機能](https://platformio.org/platformio-ide)

## インストールとビルド

1. このリポジトリをクローンまたはダウンロードします。
2. Visual Studio Codeでクローンしたフォルダを開きます。
3. CardputerをPCに接続します。
4. PlatformIOの「Upload」ボタンをクリックしてファームウェアを書き込みます。

必要なライブラリは`platformio.ini`に記述されており、ビルド時に自動でインストールされます。

## 使い方

### センサーの接続
DHT11センサーをCardputerのGROVEポート（Port.A）に接続します。

### 基本操作
電源を入れると、自動的に温湿度の測定と表示が開始されます。

### 設定モード
以下のキーを押すことで、各種設定モードに入ります。

| キー | 機能 |
|:---:|:---|
| `1` | 画面の明るさを設定します。 |
| `2` | 低バッテリー警告のしきい値を設定します。 |
| `3` | 表示言語を切り替えます。（英語 / 日本語） |
| `` ` `` | 設定モードを終了し、設定情報の表示をクリアします。 |

設定モード中は、以下のキーで値を変更できます。

| キー | 変更内容 |
|:---:|:---|
| `;` (上) | 値を大きく（+10）します。 |
| `.` (下) | 値を小さく（-10）します。 |
| `/` (右) | 値を少し大きく（+1）します。 |
| `,` (左) | 値を少し小さく（-1）します。 |

*※言語設定では、どのキーを押しても次の言語に切り替わります。*

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 作者

NoRi